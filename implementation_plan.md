## 추가 구현 계획

1. 로그인/인증 체계 신규 도입
2. 세션 진행 상태 영속화(DB 저장)
3. 프론트 플로우 개편 (인트로/로그인/대시보드)
4. 세션/리더 관리 API 확장

## 요구사항 체크리스트

1) 리더 계정/인증
 계정 생성 방식: 관리자 수동 생성
 리더 고유 식별자:연구ID
 인증 방식: 세션 쿠키
 비밀번호 정책: 제한 없음
 로그인 실패 정책: 제한 없음

2) 권한/역할
 역할 구분: 리더 계정 다수 + 관리자 계정 1
 리더 접근 범위: 본인 세션만
 관리자 기능 필요: 세션 생성/배정/리더 관리/리셋/삭제

3) 세션 진행 상태 영속화 범위
 저장 항목:  현재 케이스 인덱스, 완료 케이스 목록, 마지막 접속 시각, 진행률
 세션 완료 후: 재시작 불가, 관리자만 리셋 가능
 동시 진행 허용: 하나씩 순차 진행만 허용

4) 세션 할당/관리 방식
 세션 정의 방식: DB 기반으로 이관
 세션 배정 방식: 관리자 지정
 세션 삭제/수정 정책: 결과 삭제/무효화

5) 대시보드 요구사항
 표시 정보: 진행률, 현재 케이스, 완료/미완료 상태, 모드(UNAIDED/AIDED), 마지막 접속 시각
 필터/정렬: 진행 중 / 완료, 날짜순
 세션 진입 버튼/UX: "이어하기", "처음부터 시작"

 6) Intro/Login 페이지 UX
 Intro 페이지 역할: 연구 및 앱 소개, 로그인 진입 버튼 포함
 로그인 후 이동 경로: 대시보드
 로그인 실패 UX 정책: 기본 오류 메시지

 7) 보안/감사
 로그인 기록 저장: 필요
 감사 로그: 필요
 접근 제한(IP, 내부망): 필요
 보안 규정 준수: HIPAA/IRB

8) 데이터/운영
 기존 sessions/*.json 마이그레이션: 필요없음
 서버 재시작 시 상태 복구: 필요
 테스트 계정: 필요


## 리더 스터디 세션 구조
총 120 케이스, 2 세션, 6명 리더

케이스 분할
Block A: 60
Block B: 60

Session 1
Group 1 reader
Block A: unaided
Block B: aided

Group 2 reader
Block A: aided
Block B: unaided

👉 이때 각 리더는 한 세션에서 unaided 60 또는 aided 60만 수행합니다.

Washout (2–4주)

Session 2 (crossover)

Group 1 reader
Block A: aided
Block B: unaided

Group 2 reader
Block A: unaided
Block B: aided

핵심 과제
리더별로 그룹/세션/블록/모드(UNAIDED/AIDED) 매핑을 고정해야 합니다.
세션 내에서는 해당 블록의 케이스만 랜덤하게 출제되어야 합니다.
세션 진행 상태는 DB 영속화가 필요합니다.
대시보드에서 현재 세션/다음 세션 상태를 명확히 보여줘야 합니다.

랜덤 케이스 로딩 설계 요약
랜덤은 “세션 최초 진입 시 1회”만 수행하고, 그 순서를 DB에 저장하는 것이 중요합니다.
그래야 서버 재시작/재접속 후에도 동일한 랜덤 순서로 이어서 진행할 수 있습니다.
Block A/B 분할은 사전에 정해진 케이스 리스트로 유지하고, 랜덤은 블록 내부에서만 수행합니다.